
#
# Makefile for myinput
# 
#

ifeq ($(KERNELDIR),)
export KERNELDIR := $(PWD)/../../../../kernel/
endif

PWD := $(shell pwd)
EXTRA_CFLAGS := -O0 -g
EXTRA_CFLAGS += -I$(src)/
EXTRA_CFLAGS += -I$(DRIVERS_INC)/
EXTRA_CFLAGS += -I$(src)/../oal/inc
#EXTRA_CFLAGS += -I$(src)/../linux_inc
EXTRA_CFLAGS += -I$(KERNELDIR)/arch/arm/mach-ac83xx/include/mach/
EXTRA_CFLAGS += -I$(KERNELDIR)/include/generated/
EXTRA_CFLAGS += -I$(src)/../libosal/inc
EXTRA_CFLAGS += -I$(src)/../private_inc
EXTRA_CFLAGS += -DCHIP_VER_AC83XX

ifneq ($(ANDROID_SRC),)
include $(BOARD_CFG_FILE)
endif

include $(AUTOCHIPS_DIR)/device/atc/ac8317/BoardConfig.mk

obj-m = myinput.o

default:
	$(MAKE) -C $(KERNELDIR) M=$(PWD) modules
	armv7a-mediatek451_001_vfp-linux-gnueabi-strip -S myinput.ko
	cp -f myinput.ko $(DRIVERS_OUTPUT)


clean:
	$(MAKE) -C $(KERNELDIR) M=$(PWD) clean




