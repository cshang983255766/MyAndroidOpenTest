#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <fcntl.h>
#include <stdio.h>
#include <termios.h>
#include <unistd.h>
typedef unsigned char U8;
typedef unsigned short U16;
typedef unsigned int U32;

typedef signed char S8;
typedef signed short S16;
typedef signed int S32;
typedef signed int BOOL;

#define GPIO_IOC_MAGIC               'g'



#define MDRV_GPIO_INIT                  _IO(GPIO_IOC_MAGIC, 0)          
#define MDRV_GPIO_SET                   _IOW(GPIO_IOC_MAGIC, 1, U8) 
#define MDRV_GPIO_DIR_OUT_HIGH          _IOW(GPIO_IOC_MAGIC, 2, U8)    
#define MDRV_GPIO_DIR_OUT_LOW           _IOW(GPIO_IOC_MAGIC, 3, U8)     
#define MDRV_GPIO_DIR_IN                _IOW(GPIO_IOC_MAGIC, 4, U8)     
#define MDRV_GPIO_PULL_HIGH             _IOW(GPIO_IOC_MAGIC, 5, U8)     
#define MDRV_GPIO_PULL_LOW              _IOW(GPIO_IOC_MAGIC, 6, U8)     
#define MDRV_GPIO_APP_XCHG              _IOWR(GPIO_IOC_MAGIC, 7, U8)    
#define MDRV_GPIO_GET                   _IOWR(GPIO_IOC_MAGIC, 8, U8)    
#define MDRV_GPIO_PWSTATUS              _IOWR(GPIO_IOC_MAGIC, 9, U8)    
#define MDRV_GPIO_GET_PWKEYTIME         _IOWR(GPIO_IOC_MAGIC, 10, U32)  
#define MDRV_GPIO_SET_PWKEYTIME         _IO(GPIO_IOC_MAGIC, 11)     
#define MDRV_GPIO_SET_VIDEO_MUTE        _IOW(GPIO_IOC_MAGIC, 12, U8)    

#define GPIO_IOC_MAXNR               13

int main(int argc, char *argv[])
{
	int fd;
	int ioport = 177;

	fd = open("/dev/mydrv", O_RDWR);
	if (fd < 0)
	{
		printf("can't open!\n");
	}

    printf("cuishang argv = %s\n", argv[1]);
    if (!strcmp(argv[1],"0"))
    {
        ioctl(fd, MDRV_GPIO_DIR_OUT_LOW, &ioport);
    }
    else if(!strcmp(argv[1],"1"))
    {
        ioctl(fd, MDRV_GPIO_DIR_OUT_HIGH, &ioport);
    }
    else
    {
        printf("input param error\n");

    }

	return 0;
}


